## 商业模拟程序

### 2020/2/18 更新

最近无聊，写了一个商业模拟程序。

#### 简介

假设每个人有100元和100块食物初始值，然后大家进行自由贸易。那么贸易就得有货物，我把这个货物简单的设定为食物。每回合，每个人需要判断自己是买还是卖，然后彼此随机匹配，并进行交易。每个人每回合会消耗1点食物，如果食物没了就会进入饥饿状态，连续5个回合，这个人就会被淘汰，在饥饿状态下，不论如何，这个人都会进行买，但交易不一定可以成功。如果金钱没了，就会进入负债状态，只要财政没有进入正，那么每回合信誉值就会减一定的值，这个可以自己修改。如果负债太多，那么就会破产，同样被淘汰。同样，当信誉值到了0，按照机制，不论如何都不会再成功进行贸易。另外，每回合会随机给当前人数的二分之一人分配一定的食物，当然也可能不分配。

每个人有四个属性：信誉，狡诈，判断，谨慎。
卖家的信誉会决定这个交易的成功率，狡诈则决定价格会有多高，谨慎则决定本回合是否要进行欺骗。买家的判断有可能发现卖家是否进行了欺骗。同时，谨慎还影响每个人在每回合如何确定自己是进行买还是进行卖。

#### 以下是一些关联函数：

### 卖家：

是否欺骗的几率：

相关元素：卖家谨慎值z，卖家狡诈值x，买家判断值y

变化趋势：首先算出买家判断成功概率，然后谨慎值决定欺骗概率

具体公式：S=(100-(10+y-x)*5)*N(-z,z)

----

欺骗产生的价格：

相关元素：卖家的狡诈值x，物价标准s

具体公式：Mmin = s, Mmax = s + e^x

----

信誉变动：

相关元素：交易价格m，交易基准s，卖家狡诈值s

信誉变动的情况有以下四种状态：幅度：d = (m-s)/e^x*100

1）卖家欺骗，买家识破：买家增，卖家减。

2）卖家欺骗，买家未识破：买家不变，卖家不变。

3）卖家诚实，买家认为欺骗：买家减，卖家增。

4）卖家诚实，买家不认为欺骗：买家不变，卖家不变。

--------

### 买家：

判断出是欺骗的几率：

相关元素：卖家狡诈值x，买家判断值y

具体公式：S = (10 + y - x) * 5

### 通用：

本回合买卖的判断：

相关元素：个人所拥有的现金x，所拥有的食物y，谨慎度z。

具体公式：p = (-e^|x-y|+1)*N(-z, z)

----

#### 本日更新总结：

这个机制还比较简单，很多随机数的产生依然遵循单调的均匀分布，但是最佳的状态是正态分布。对于卖家抬高价格这里使用的是指数分布。但是依旧感觉很简陋，最近把各种随机数的产生写一个库添加进去，应该会更舒服些。
